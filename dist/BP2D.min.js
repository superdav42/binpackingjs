!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("BinPacking",[],e):"object"==typeof exports?exports.BinPacking=e():t.BinPacking=e()}(this,(function(){return function(){var t={416:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return r}})},225:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,{Z:function(){return i}})},743:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:function(){return r}})},23:function(t){var e=function(){"use strict";function t(e,r,i,o){"object"==typeof r&&(i=r.depth,o=r.prototype,r.filter,r=r.circular);var u=[],c=[],s="undefined"!=typeof Buffer;return void 0===r&&(r=!0),void 0===i&&(i=1/0),function e(i,a){if(null===i)return null;if(0==a)return i;var f,l;if("object"!=typeof i)return i;if(t.__isArray(i))f=[];else if(t.__isRegExp(i))f=new RegExp(i.source,n(i)),i.lastIndex&&(f.lastIndex=i.lastIndex);else if(t.__isDate(i))f=new Date(i.getTime());else{if(s&&Buffer.isBuffer(i))return f=Buffer.allocUnsafe?Buffer.allocUnsafe(i.length):new Buffer(i.length),i.copy(f),f;void 0===o?(l=Object.getPrototypeOf(i),f=Object.create(l)):(f=Object.create(o),l=o)}if(r){var h=u.indexOf(i);if(-1!=h)return c[h];u.push(i),c.push(f)}for(var y in i){var p;l&&(p=Object.getOwnPropertyDescriptor(l,y)),p&&null==p.set||(f[y]=e(i[y],a-1))}return f}(e,i)}function e(t){return Object.prototype.toString.call(t)}function n(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=e,t.__isDate=function(t){return"object"==typeof t&&"[object Date]"===e(t)},t.__isArray=function(t){return"object"==typeof t&&"[object Array]"===e(t)},t.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===e(t)},t.__getRegExpFlags=n,t}();t.exports&&(t.exports=e)},426:function(t,e,n){!function(){"use strict";!function(){if("undefined"==typeof console)throw new Error("Weird, console object is undefined");if("function"!=typeof console.table||console.table!==h){var e=function(t,e){return typeof e===t}.bind(null,"string"),r=u.bind(null,e),i=u.bind(null,Array.isArray),o=n(185);t.exports.getTable=function(){var t=Array.prototype.slice.call(arguments),e="";return 2===t.length&&"string"==typeof t[0]&&Array.isArray(t[1])?f(t[0],t[1]):2===t.length&&r(t[0])&&i(t[1])?s(t[0],t[1],!0):(t.forEach((function(n,r){if("string"==typeof n)return e+=n,void(r!==t.length-1&&(e+="\n"));Array.isArray(n)?e+=c(n)+"\n":"object"==typeof n&&(e+=l(n))})),e)},console.table=h}function u(t,e){return Array.isArray(e)&&e.every(t)}function c(t){var e=new o;return t.forEach((function(t){"string"==typeof t||"number"==typeof t?e.cell("item",t):Object.keys(t).forEach((function(n){e.cell(n,t[n])})),e.newRow()})),e.toString()}function s(t,e,n){var r=new o;e.forEach((function(e){e.forEach((function(e,n){r.cell(t[n],e)})),r.newRow()}));var i=r.toString();return n?i:console.log(i)}function a(t,e){var n=c(e),r=n.indexOf("\n");if(r>0){t.length>r&&(r=t.length),console.log(t);var i,o="";for(i=0;i<r;i+=1)o+="-";console.log(o)}console.log(n)}function f(t,e){var n=c(e),r=n.indexOf("\n"),i="";if(r>0){t.length>r&&(r=t.length),i+=t+"\n";var o,u="";for(o=0;o<r;o+=1)u+="-";i+=u+"\n"}return i+n}function l(t){return c(function(t){return Object.keys(t).map((function(e){return{key:e,value:t[e]}}))}(t))}function h(){var t=Array.prototype.slice.call(arguments);return 2===t.length&&"string"==typeof t[0]&&Array.isArray(t[1])?a(t[0],t[1]):2===t.length&&r(t[0])&&i(t[1])?s(t[0],t[1]):void t.forEach((function(t){if("string"==typeof t)return console.log(t);Array.isArray(t)?console.log(c(t)):"object"==typeof t&&console.log(l(t))}))}}()}()},451:function(t,e,n){var r=n(23);t.exports=function(t,e){return t=t||{},Object.keys(e).forEach((function(n){void 0===t[n]&&(t[n]=r(e[n]))})),t}},185:function(t,e,n){var r;try{r=n(561)}catch(t){}function i(){this.rows=[],this.row={__printers:{}}}function o(t){return void 0===t?"":""+t}function u(t){var e=t.replace(/\u001b\[\d+m/g,"");return null==r?e.length:r(e)}function c(t){return function(e,n){var r=o(e),i=u(r);return(n>i?Array(n-i+1).join(t):"")+r}}t.exports=i,i.prototype.newRow=function(){return this.rows.push(this.row),this.row={__printers:{}},this},i.prototype.cell=function(t,e,n){return this.row[t]=e,this.row.__printers[t]=n||o,this},i.prototype.separator="  ",i.string=o,i.leftPadder=c;var s=i.padLeft=c(" ");function a(t){return function(e,n){var r=o(e),i=u(r);return r+(n>i?Array(n-i+1).join(t):"")}}i.rightPadder=a;var f=a(" ");function l(t,e){for(var n in t)"__printers"!=n&&e(n,t[n])}function h(t,e){return t===e?0:void 0===t?1:void 0===e?-1:null===t?1:null===e?-1:t>e?1:t<e?-1:h(String(t),String(e))}i.number=function(t){return function(e,n){if(null==e)return"";if("number"!=typeof e)throw new Error(e+" is not a number");var r=null==t?e+"":e.toFixed(t);return s(r,n)}},i.prototype.columns=function(){for(var t={},e=0;e<2;e++)this.rows.forEach((function(e){var n=0;l(e,(function(e){n=Math.max(n,t[e]||0),t[e]=n,n++}))}));return Object.keys(t).sort((function(e,n){return t[e]-t[n]}))},i.prototype.print=function(){var t=this.columns(),e=this.separator,n={},r="";return this.rows.forEach((function(t){l(t,(function(e,r){var i=t.__printers[e].call(t,r);n[e]=Math.max(u(i),n[e]||0)}))})),this.rows.forEach((function(i){var o="";t.forEach((function(t){var r=n[t],u=i.hasOwnProperty(t)?""+i.__printers[t].call(i,i[t],r):"";o+=f(u,r)+e})),o=o.slice(0,-e.length),r+=o+"\n"})),r},i.prototype.toString=function(){var t=this.columns(),e=new i;return e.separator=this.separator,t.forEach((function(t){e.cell(t,t)})),e.newRow(),e.pushDelimeter(t),e.rows=e.rows.concat(this.rows),this.totals&&this.rows.length&&(e.pushDelimeter(t),this.forEachTotal(e.cell.bind(e)),e.newRow()),e.print()},i.prototype.pushDelimeter=function(t){return(t=t||this.columns()).forEach((function(t){this.cell(t,void 0,c("-"))}),this),this.newRow()},i.prototype.forEachTotal=function(t){for(var e in this.totals){var n=this.totals[e],r=n.init,i=this.rows.length;this.rows.forEach((function(t,o){r=n.reduce.call(t,r,t[e],o,i)})),t(e,r,n.printer)}},i.prototype.printTransposed=function(t){t=t||{};var e=new i;return e.separator=t.separator||this.separator,this.columns().forEach((function(n){e.cell(0,n,t.namePrinter),this.rows.forEach((function(t,r){e.cell(r+1,t[n],t.__printers[n])})),e.newRow()}),this),e.print()},i.prototype.sort=function(t){if("function"==typeof t)return this.rows.sort(t),this;var e=(Array.isArray(t)?t:this.columns()).map((function(t){var e="asc",n=/(.*)\|\s*(asc|des)\s*$/.exec(t);return n&&(t=n[1],e=n[2]),function(n,r){return"asc"==e?h(n[t],r[t]):h(r[t],n[t])}}));return this.sort((function(t,n){for(var r=0;r<e.length;r++){var i=e[r](t,n);if(0!=i)return i}return 0}))},i.prototype.total=function(t,e){return e=e||{},this.totals=this.totals||{},this.totals[t]={reduce:e.reduce||i.aggr.sum,printer:e.printer||s,init:null==e.init?0:e.init},this},i.aggr={},i.aggr.printer=function(t,e){return e=e||o,function(n,r){return s(t+e(n),r)}},i.aggr.sum=function(t,e){return t+e},i.aggr.avg=function(t,e,n,r){return t+=e,n+1==r?t/r:t},i.print=function(t,e,n){var r=e||{};e="function"==typeof e?e:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=r[n]||{};e(i.name||n,t[n],i.printer)}};var o=new i,u=o.cell.bind(o);return Array.isArray(t)?(n=n||function(t){return t.toString()},t.forEach((function(t){e(t,u),o.newRow()}))):(n=n||function(t){return t.printTransposed({separator:" : "})},e(t,u),o.newRow()),n(o)},i.log=function(t,e,n){console.log(i.print(t,e,n))},i.prototype.log=function(){console.log(this.toString())}},653:function(t){t.exports=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]]},561:function(t,e,n){"use strict";var r=n(451),i=n(653),o={nul:0,control:0};function u(t,e){if("string"!=typeof t)return c(t,e);for(var n=0,r=0;r<t.length;r++){var i=c(t.charCodeAt(r),e);if(i<0)return-1;n+=i}return n}function c(t,e){return 0===t?e.nul:t<32||t>=127&&t<160?e.control:function(t){var e,n=0,r=i.length-1;if(t<i[0][0]||t>i[r][1])return!1;for(;r>=n;)if(e=Math.floor((n+r)/2),t>i[e][1])n=e+1;else{if(!(t<i[e][0]))return!0;r=e-1}return!1}(t)?0:1+(t>=4352&&(t<=4447||9001==t||9002==t||t>=11904&&t<=42191&&12351!=t||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510||t>=131072&&t<=196605||t>=196608&&t<=262141))}t.exports=function(t){return u(t,o)},t.exports.config=function(t){return t=r(t||{},o),function(e){return u(e,t)}}}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return function(){"use strict";n.r(r),n.d(r,{Bin:function(){return d},Box:function(){return p},Packer:function(){return k},heuristics:function(){return t}});var t={};n.r(t),n.d(t,{BestAreaFit:function(){return R},BestLongSideFit:function(){return O},BestShortSideFit:function(){return y},BottomLeft:function(){return _}});var e=n(416),i=n(225),o=n(743);function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(){function t(n,r){(0,e.Z)(this,t),(0,o.Z)(this,"score_1",t.MAX_INT),(0,o.Z)(this,"score_2",t.MAX_INT),void 0!==n&&(this.score_1=n),void 0!==r&&(this.score_2=r)}return(0,i.Z)(t,[{key:"valueOf",value:function(){return this.score_1+this.score_2}},{key:"assign",value:function(t){this.score_1=t.score_1,this.score_2=t.score_2}},{key:"isBlank",value:function(){return this.score_1===t.MAX_INT}},{key:"decreaseBy",value:function(t){this.score_1+=t,this.score_2+=t}}]),t}();(0,o.Z)(l,"MAX_INT",Number.MAX_SAFE_INTEGER);var h=function(){function t(){(0,e.Z)(this,t)}return(0,i.Z)(t,[{key:"findPositionForNewNode",value:function(t,e){var n=this,r=new l,i=t.width,o=t.height;return e.forEach((function(e){n.tryPlaceRectIn(e,t,i,o,r),t.constrainRotation||n.tryPlaceRectIn(e,t,o,i,r)})),r}},{key:"tryPlaceRectIn",value:function(t,e,n,r,i){if(t.width>=n&&t.height>=r){var o=this.calculateScore(t,n,r);o<i&&(e.x=t.x,e.y=t.y,e.width=n,e.height=r,e.packed=!0,i.assign(o))}}},{key:"calculateScore",value:function(t,e,n){throw"NotImplementedError"}}]),t}();var y=function(t){c(u,t);var n,r,o=(n=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(n);if(r){var i=f(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return a(this,t)});function u(){return(0,e.Z)(this,u),o.apply(this,arguments)}return(0,i.Z)(u,[{key:"calculateScore",value:function(t,e,n){var r=[Math.abs(t.width-e),Math.abs(t.height-n)].sort((function(t,e){return t-e}));return new l(r[0],r[1])}}]),u}(h),p=function(){function t(n,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,e.Z)(this,t),(0,o.Z)(this,"width",null),(0,o.Z)(this,"height",null),(0,o.Z)(this,"constrainRotation",!1),(0,o.Z)(this,"x",0),(0,o.Z)(this,"y",0),(0,o.Z)(this,"packed",!1),this.width=n,this.height=r,this.constrainRotation=i}return(0,i.Z)(t,[{key:"rotate",value:function(){var t=this.width,e=this.height;this.width=e,this.height=t}},{key:"label",get:function(){return"".concat(this.width,"x").concat(this.height," at [").concat(this.x,",").concat(this.y,"]")}},{key:"area",get:function(){return this.width*this.height}}]),t}();function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d=function(){function t(n,r,i){(0,e.Z)(this,t),(0,o.Z)(this,"width",null),(0,o.Z)(this,"height",null),(0,o.Z)(this,"boxes",[]),(0,o.Z)(this,"heuristic",null),(0,o.Z)(this,"freeRectangles",[]),this.width=n,this.height=r,this.freeRectangles=[new b(n,r)],this.heuristic=i||new y}return(0,i.Z)(t,[{key:"area",get:function(){return this.width*this.height}},{key:"efficiency",get:function(){var t=0;return this.boxes.forEach((function(e){t+=e.area})),100*t/this.area}},{key:"label",get:function(){return"".concat(this.width,"x").concat(this.height," ").concat(this.efficiency,"%")}},{key:"insert",value:function(t){if(t.packed)return!1;if(this.heuristic.findPositionForNewNode(t,this.freeRectangles),!t.packed)return!1;for(var e=this.freeRectangles.length,n=0;n<e;)this.splitFreeNode(this.freeRectangles[n],t)?(this.freeRectangles.splice(n,1),e--):n++;return this.pruneFreeList(),this.boxes.push(t),!0}},{key:"scoreFor",value:function(t){var e=new p(t.width,t.height,t.constrainRotation);return this.heuristic.findPositionForNewNode(e,this.freeRectangles)}},{key:"isLargerThan",value:function(t){return this.width>=t.width&&this.height>=t.height||this.height>=t.width&&this.width>=t.height}},{key:"splitFreeNode",value:function(t,e){return!(e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y||(this.trySplitFreeNodeVertically(t,e),this.trySplitFreeNodeHorizontally(t,e),0))}},{key:"trySplitFreeNodeVertically",value:function(t,e){e.x<t.x+t.width&&e.x+e.width>t.x&&(this.tryLeaveFreeSpaceAtTop(t,e),this.tryLeaveFreeSpaceAtBottom(t,e))}},{key:"tryLeaveFreeSpaceAtTop",value:function(t,e){if(e.y>t.y&&e.y<t.y+t.height){var n=g({},t);n.height=e.y-n.y,this.freeRectangles.push(n)}}},{key:"tryLeaveFreeSpaceAtBottom",value:function(t,e){if(e.y+e.height<t.y+t.height){var n=g({},t);n.y=e.y+e.height,n.height=t.y+t.height-(e.y+e.height),this.freeRectangles.push(n)}}},{key:"trySplitFreeNodeHorizontally",value:function(t,e){e.y<t.y+t.height&&e.y+e.height>t.y&&(this.tryLeaveFreeSpaceOnLeft(t,e),this.tryLeaveFreeSpaceOnRight(t,e))}},{key:"tryLeaveFreeSpaceOnLeft",value:function(t,e){if(e.x>t.x&&e.x<t.x+t.width){var n=g({},t);n.width=e.x-n.x,this.freeRectangles.push(n)}}},{key:"tryLeaveFreeSpaceOnRight",value:function(t,e){if(e.x+e.width<t.x+t.width){var n=g({},t);n.x=e.x+e.width,n.width=t.x+t.width-(e.x+e.width),this.freeRectangles.push(n)}}},{key:"pruneFreeList",value:function(){for(var t=0;t<this.freeRectangles.length;){var e=t+1;if(e===this.freeRectangles.length)break;for(;e<this.freeRectangles.length;){if(this.isContainedIn(this.freeRectangles[t],this.freeRectangles[e])){this.freeRectangles.splice(t,1),t--;break}this.isContainedIn(this.freeRectangles[e],this.freeRectangles[t])?this.freeRectangles.splice(e,1):e++,t++}}}},{key:"isContainedIn",value:function(t,e){return t&&e&&t.x>=e.x&&t.y>=e.y&&t.x+t.width<=e.x+e.width&&t.y+t.height<=e.y+e.height}}]),t}(),b=function t(n,r){(0,e.Z)(this,t),(0,o.Z)(this,"x",0),(0,o.Z)(this,"y",0),(0,o.Z)(this,"width",null),(0,o.Z)(this,"height",null),this.width=n,this.height=r};function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var x=function(){function t(n,r){(0,e.Z)(this,t),(0,o.Z)(this,"bin",null),(0,o.Z)(this,"box",null),(0,o.Z)(this,"score",null),this.bin=n,this.box=r}return(0,i.Z)(t,[{key:"calculate",value:function(){return this.score=this.bin.scoreFor(this.box),this.score}},{key:"fit",value:function(){return!this.score.isBlank()}}]),t}(),m=function(){function t(n,r){var i=this;(0,e.Z)(this,t),(0,o.Z)(this,"entries",[]),n.forEach((function(t){i.addBinEntries(t,r)}))}return(0,i.Z)(t,[{key:"debug",value:function(){n(426),console.table(this.entries.map((function(t){return{bin:t.bin.label,box:t.box.label,score:t.score}})))}},{key:"addBinEntries",value:function(t,e){var n=this;e.forEach((function(e){var r=new x(t,e);r.calculate(),n.entries.push(r)}))}},{key:"any",value:function(){return this.boxes.some((function(t){return t}))}},{key:"largestNotFitingBox",value:function(){var t=this;return this.entries.filter((function(t){return t.fit})).map((function(t){return t.box})),this.entries.forEach((function(e){t.fittingBoxes.contains(e.box)&&(t.unfit=e)})),!!null.box&&null}},{key:"bestFit",value:function(){for(var t=null,e=0;e<this.entries.length;e++){var n=this.entries[e];n.fit()&&(null===t||n.score<t.score)&&(t=n)}return t}},{key:"removeBox",value:function(t){this.entries=this.entries.filter((function(e){return e.box!==t}))}},{key:"addBin",value:function(t){this.addBinEntries(t,this.currentBoxes())}},{key:"recalculateBin",value:function(t){this.entries.filter((function(e){return e.bin===t})).forEach((function(t){return t.calculate()}))}},{key:"currentBoxes",value:function(){return function(t){if(Array.isArray(t))return w(t)}(t=new Set(this.entries.map((function(t){return t.box}))))||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t}}]),t}(),k=function(){function t(n){(0,e.Z)(this,t),(0,o.Z)(this,"bins",[]),(0,o.Z)(this,"unpackedBoxes",[]),this.bins=n}return(0,i.Z)(t,[{key:"pack",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];if(0===(t=t.filter((function(t){return!t.packed}))).length)return r;for(var i=n.limit||l.MAX_INT,o=new m(this.bins,t);(e=o.bestFit())&&(e.bin.insert(e.box),o.removeBox(e.box),o.recalculateBin(e.bin),r.push(e.box),!(r.length>=i)););return this.unpackedBoxes=t.filter((function(t){return!t.packed})),r}}]),t}();var R=function(t){c(u,t);var n,r,o=(n=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(n);if(r){var i=f(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return a(this,t)});function u(){return(0,e.Z)(this,u),o.apply(this,arguments)}return(0,i.Z)(u,[{key:"calculateScore",value:function(t,e,n){var r=t.width*t.height-e*n,i=Math.abs(t.width-e),o=Math.abs(t.height-n),u=Math.min(i,o);return new l(r,u)}}]),u}(h);var O=function(t){c(u,t);var n,r,o=(n=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(n);if(r){var i=f(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return a(this,t)});function u(){return(0,e.Z)(this,u),o.apply(this,arguments)}return(0,i.Z)(u,[{key:"calculateScore",value:function(t,e,n){var r=[Math.abs(t.width-e),Math.abs(t.height-n)].sort((function(t,e){return t-e})).reverse();return new l(r[0],r[1])}}]),u}(h);var _=function(t){c(u,t);var n,r,o=(n=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(n);if(r){var i=f(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return a(this,t)});function u(){return(0,e.Z)(this,u),o.apply(this,arguments)}return(0,i.Z)(u,[{key:"calculateScore",value:function(t,e,n){var r=t.y+n;return new l(r,t.x)}}]),u}(h)}(),r}()}));