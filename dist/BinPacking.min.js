!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("BinPacking",[],e):"object"==typeof exports?exports.BinPacking=e():t.BinPacking=e()}(this,(function(){return function(){var t={416:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return i}})},225:function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}n.d(e,{Z:function(){return r}})},743:function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:function(){return i}})},269:function(t,e,n){"use strict";n.r(e),n.d(e,{Bin:function(){return b},Box:function(){return y},Packer:function(){return R},heuristics:function(){return i}});var i={};n.r(i),n.d(i,{BestAreaFit:function(){return Z},BestLongSideFit:function(){return _},BestShortSideFit:function(){return g},BottomLeft:function(){return O}});var r=n(416),o=n(225),u=n(743);function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(){function t(e,n){(0,r.Z)(this,t),(0,u.Z)(this,"score_1",t.MAX_INT),(0,u.Z)(this,"score_2",t.MAX_INT),void 0!==e&&(this.score_1=e),void 0!==n&&(this.score_2=n)}return(0,o.Z)(t,[{key:"valueOf",value:function(){return this.score_1+this.score_2}},{key:"assign",value:function(t){this.score_1=t.score_1,this.score_2=t.score_2}},{key:"isBlank",value:function(){return this.score_1===t.MAX_INT}},{key:"decreaseBy",value:function(t){this.score_1+=t,this.score_2+=t}}]),t}();(0,u.Z)(l,"MAX_INT",Number.MAX_SAFE_INTEGER);var p=function(){function t(){(0,r.Z)(this,t)}return(0,o.Z)(t,[{key:"findPositionForNewNode",value:function(t,e){var n=this,i=new l,r=t.width,o=t.height;return e.forEach((function(e){n.tryPlaceRectIn(e,t,r,o,i),t.constrainRotation||n.tryPlaceRectIn(e,t,o,r,i)})),i}},{key:"tryPlaceRectIn",value:function(t,e,n,i,r){if(t.width>=n&&t.height>=i){var o=this.calculateScore(t,n,i);o<r&&(e.x=t.x,e.y=t.y,e.width=n,e.height=i,e.packed=!0,r.assign(o))}}},{key:"calculateScore",value:function(t,e,n){throw"NotImplementedError"}}]),t}();var g=function(t){c(u,t);var e,n,i=(e=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=f(e);if(n){var r=f(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return h(this,t)});function u(){return(0,r.Z)(this,u),i.apply(this,arguments)}return(0,o.Z)(u,[{key:"calculateScore",value:function(t,e,n){var i=[Math.abs(t.width-e),Math.abs(t.height-n)].sort((function(t,e){return t-e}));return new l(i[0],i[1])}}]),u}(p),y=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r.Z)(this,t),(0,u.Z)(this,"width",null),(0,u.Z)(this,"height",null),(0,u.Z)(this,"constrainRotation",!1),(0,u.Z)(this,"x",0),(0,u.Z)(this,"y",0),(0,u.Z)(this,"packed",!1),this.width=e,this.height=n,this.constrainRotation=i}return(0,o.Z)(t,[{key:"rotate",value:function(){var t=this.width,e=this.height;this.width=e,this.height=t}},{key:"label",get:function(){return"".concat(this.width,"x").concat(this.height," at [").concat(this.x,",").concat(this.y,"]")}},{key:"area",get:function(){return this.width*this.height}}]),t}();function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){(0,u.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var b=function(){function t(e,n,i){(0,r.Z)(this,t),(0,u.Z)(this,"width",null),(0,u.Z)(this,"height",null),(0,u.Z)(this,"boxes",[]),(0,u.Z)(this,"heuristic",null),(0,u.Z)(this,"freeRectangles",[]),this.width=e,this.height=n,this.freeRectangles=[new w(e,n)],this.heuristic=i||new g}return(0,o.Z)(t,[{key:"area",get:function(){return this.width*this.height}},{key:"efficiency",get:function(){var t=0;return this.boxes.forEach((function(e){t+=e.area})),100*t/this.area}},{key:"label",get:function(){return"".concat(this.width,"x").concat(this.height," ").concat(this.efficiency,"%")}},{key:"insert",value:function(t){if(t.packed)return!1;if(this.heuristic.findPositionForNewNode(t,this.freeRectangles),!t.packed)return!1;for(var e=this.freeRectangles.length,n=0;n<e;)this.splitFreeNode(this.freeRectangles[n],t)?(this.freeRectangles.splice(n,1),e--):n++;return this.pruneFreeList(),this.boxes.push(t),!0}},{key:"scoreFor",value:function(t){var e=new y(t.width,t.height,t.constrainRotation);return this.heuristic.findPositionForNewNode(e,this.freeRectangles)}},{key:"isLargerThan",value:function(t){return this.width>=t.width&&this.height>=t.height||this.height>=t.width&&this.width>=t.height}},{key:"splitFreeNode",value:function(t,e){return!(e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y||(this.trySplitFreeNodeVertically(t,e),this.trySplitFreeNodeHorizontally(t,e),0))}},{key:"trySplitFreeNodeVertically",value:function(t,e){e.x<t.x+t.width&&e.x+e.width>t.x&&(this.tryLeaveFreeSpaceAtTop(t,e),this.tryLeaveFreeSpaceAtBottom(t,e))}},{key:"tryLeaveFreeSpaceAtTop",value:function(t,e){if(e.y>t.y&&e.y<t.y+t.height){var n=d({},t);n.height=e.y-n.y,this.freeRectangles.push(n)}}},{key:"tryLeaveFreeSpaceAtBottom",value:function(t,e){if(e.y+e.height<t.y+t.height){var n=d({},t);n.y=e.y+e.height,n.height=t.y+t.height-(e.y+e.height),this.freeRectangles.push(n)}}},{key:"trySplitFreeNodeHorizontally",value:function(t,e){e.y<t.y+t.height&&e.y+e.height>t.y&&(this.tryLeaveFreeSpaceOnLeft(t,e),this.tryLeaveFreeSpaceOnRight(t,e))}},{key:"tryLeaveFreeSpaceOnLeft",value:function(t,e){if(e.x>t.x&&e.x<t.x+t.width){var n=d({},t);n.width=e.x-n.x,this.freeRectangles.push(n)}}},{key:"tryLeaveFreeSpaceOnRight",value:function(t,e){if(e.x+e.width<t.x+t.width){var n=d({},t);n.x=e.x+e.width,n.width=t.x+t.width-(e.x+e.width),this.freeRectangles.push(n)}}},{key:"pruneFreeList",value:function(){for(var t=0;t<this.freeRectangles.length;){var e=t+1;if(e===this.freeRectangles.length)break;for(;e<this.freeRectangles.length;){if(this.isContainedIn(this.freeRectangles[t],this.freeRectangles[e])){this.freeRectangles.splice(t,1),t--;break}this.isContainedIn(this.freeRectangles[e],this.freeRectangles[t])?this.freeRectangles.splice(e,1):e++,t++}}}},{key:"isContainedIn",value:function(t,e){return t&&e&&t.x>=e.x&&t.y>=e.y&&t.x+t.width<=e.x+e.width&&t.y+t.height<=e.y+e.height}}]),t}(),w=function t(e,n){(0,r.Z)(this,t),(0,u.Z)(this,"x",0),(0,u.Z)(this,"y",0),(0,u.Z)(this,"width",null),(0,u.Z)(this,"height",null),this.width=e,this.height=n};function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var k=function(){function t(e,n){(0,r.Z)(this,t),(0,u.Z)(this,"bin",null),(0,u.Z)(this,"box",null),(0,u.Z)(this,"score",null),this.bin=e,this.box=n}return(0,o.Z)(t,[{key:"calculate",value:function(){return this.score=this.bin.scoreFor(this.box),this.score}},{key:"fit",value:function(){return!this.score.isBlank()}}]),t}(),x=function(){function t(e,n){var i=this;(0,r.Z)(this,t),(0,u.Z)(this,"entries",[]),e.forEach((function(t){i.addBinEntries(t,n)}))}return(0,o.Z)(t,[{key:"debug",value:function(){n(426),console.table(this.entries.map((function(t){return{bin:t.bin.label,box:t.box.label,score:t.score}})))}},{key:"addBinEntries",value:function(t,e){var n=this;e.forEach((function(e){var i=new k(t,e);i.calculate(),n.entries.push(i)}))}},{key:"any",value:function(){return this.boxes.some((function(t){return t}))}},{key:"largestNotFitingBox",value:function(){var t=this;return this.entries.filter((function(t){return t.fit})).map((function(t){return t.box})),this.entries.forEach((function(e){t.fittingBoxes.contains(e.box)&&(t.unfit=e)})),!!null.box&&null}},{key:"bestFit",value:function(){for(var t=null,e=0;e<this.entries.length;e++){var n=this.entries[e];n.fit()&&(null===t||n.score<t.score)&&(t=n)}return t}},{key:"removeBox",value:function(t){this.entries=this.entries.filter((function(e){return e.box!==t}))}},{key:"addBin",value:function(t){this.addBinEntries(t,this.currentBoxes())}},{key:"recalculateBin",value:function(t){this.entries.filter((function(e){return e.bin===t})).forEach((function(t){return t.calculate()}))}},{key:"currentBoxes",value:function(){return function(t){if(Array.isArray(t))return m(t)}(t=new Set(this.entries.map((function(t){return t.box}))))||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t}}]),t}(),R=function(){function t(e){(0,r.Z)(this,t),(0,u.Z)(this,"bins",[]),(0,u.Z)(this,"unpackedBoxes",[]),this.bins=e}return(0,o.Z)(t,[{key:"pack",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[];if(0===(t=t.filter((function(t){return!t.packed}))).length)return i;for(var r=n.limit||l.MAX_INT,o=new x(this.bins,t);(e=o.bestFit())&&(e.bin.insert(e.box),o.removeBox(e.box),o.recalculateBin(e.bin),i.push(e.box),!(i.length>=r)););return this.unpackedBoxes=t.filter((function(t){return!t.packed})),i}}]),t}();var Z=function(t){c(u,t);var e,n,i=(e=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=f(e);if(n){var r=f(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return h(this,t)});function u(){return(0,r.Z)(this,u),i.apply(this,arguments)}return(0,o.Z)(u,[{key:"calculateScore",value:function(t,e,n){var i=t.width*t.height-e*n,r=Math.abs(t.width-e),o=Math.abs(t.height-n),u=Math.min(r,o);return new l(i,u)}}]),u}(p);var _=function(t){c(u,t);var e,n,i=(e=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=f(e);if(n){var r=f(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return h(this,t)});function u(){return(0,r.Z)(this,u),i.apply(this,arguments)}return(0,o.Z)(u,[{key:"calculateScore",value:function(t,e,n){var i=[Math.abs(t.width-e),Math.abs(t.height-n)].sort((function(t,e){return t-e})).reverse();return new l(i[0],i[1])}}]),u}(p);var O=function(t){c(u,t);var e,n,i=(e=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=f(e);if(n){var r=f(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return h(this,t)});function u(){return(0,r.Z)(this,u),i.apply(this,arguments)}return(0,o.Z)(u,[{key:"calculateScore",value:function(t,e,n){var i=t.y+n;return new l(i,t.x)}}]),u}(p)},625:function(t,e,n){"use strict";n.r(e),n.d(e,{Bin:function(){return h},Item:function(){return p},Packer:function(){return y}});var i=n(416),r=n(225),o=n(743),u=function(t){return Math.round(t*Math.pow(10,5))};function s(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i]}var c,a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binpackingjs";return s.bind(void 0,t)}("3D:"),h=function(){function t(e,n,r,s,c){(0,i.Z)(this,t),(0,o.Z)(this,"name",""),(0,o.Z)(this,"width",0),(0,o.Z)(this,"height",0),(0,o.Z)(this,"depth",0),(0,o.Z)(this,"maxWeight",0),(0,o.Z)(this,"items",[]),this.name=e,this.width=u(n),this.height=u(r),this.depth=u(s),this.maxWeight=u(c)}return(0,r.Z)(t,[{key:"getName",value:function(){return this.name}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"getDepth",value:function(){return this.depth}},{key:"getMaxWeight",value:function(){return this.maxWeight}},{key:"getItems",value:function(){return this.items}},{key:"getVolume",value:function(){return this.getWidth()*this.getHeight()*this.getDepth()}},{key:"getPackedWeight",value:function(){return this.items.reduce((function(t,e){return t+e.getWeight()}),0)}},{key:"weighItem",value:function(t){var e=this.getMaxWeight();return!e||t.getWeight()+this.getPackedWeight()<=e}},{key:"scoreRotation",value:function(t,e){t.rotationType=e;var n=t.getDimension();return this.getWidth()<n[0]||this.getHeight()<n[1]||this.getDepth()<n[2]?0:Math.pow(n[0]/this.getWidth(),2)+Math.pow(n[1]/this.getHeight(),2)+Math.pow(n[2]/this.getDepth(),2)}},{key:"getBestRotationOrder",value:function(t){for(var e={},n=0;n<t.allowedRotation.length;n++){var i=t.allowedRotation[n];e[i]=this.scoreRotation(t,i)}return Object.keys(e).sort((function(t,n){return e[n]-e[t]})).map(Number)}},{key:"putItem",value:function(t,e){var n=this,i=!1,r=this.getBestRotationOrder(t);t.position=e;for(var o=0;o<r.length;o++){t.rotationType=r[o];var u=t.getDimension();if(n.getWidth()<e[0]+u[0]||n.getHeight()<e[1]+u[1]||n.getDepth()<e[2]+u[2])i=!1;else{i=!0;for(var s=0;s<n.items.length;s++)if(n.items[s].intersect(t)){i=!1;break}i&&n.items.push(t)}if(a("try to putItem",i,"item",t.toString(),"box",n.toString()),i)break}return i}},{key:"toString",value:function(){return"Bin:".concat(this.name," (WxHxD = ").concat(this.getWidth(),"x").concat(this.getHeight(),"x").concat(this.getDepth(),", MaxWg. = ").concat(this.getMaxWeight(),")")}}]),t}(),f=[0,0,0],l=(c={},(0,o.Z)(c,0,"RotationType_WHD (w,h,d)"),(0,o.Z)(c,1,"RotationType_HWD (h,w,d)"),(0,o.Z)(c,2,"RotationType_HDW (h,d,w)"),(0,o.Z)(c,3,"RotationType_DHW (d,h,w)"),(0,o.Z)(c,4,"RotationType_DWH (d,w,h)"),(0,o.Z)(c,5,"RotationType_WDH (w,d,h)"),c),p=function(){function t(e,n,r,s,c,a){(0,i.Z)(this,t),(0,o.Z)(this,"name",""),(0,o.Z)(this,"width",0),(0,o.Z)(this,"height",0),(0,o.Z)(this,"depth",0),(0,o.Z)(this,"weight",0),(0,o.Z)(this,"allowedRotation",[0,1,2,3,4,5]),(0,o.Z)(this,"rotationType",0),(0,o.Z)(this,"position",[]),this.name=e,this.width=u(n),this.height=u(r),this.depth=u(s),this.weight=u(c),this.allowedRotation=a||this.allowedRotation}return(0,r.Z)(t,[{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"getDepth",value:function(){return this.depth}},{key:"getWeight",value:function(){return this.weight}},{key:"getRotationType",value:function(){return this.rotationType}},{key:"getAllowedRotation",value:function(){return this.allowedRotation}},{key:"getRotationTypeString",value:function(){return l[this.getRotationType()]}},{key:"getDimension",value:function(){var t;switch(this.rotationType){case 0:t=[this.getWidth(),this.getHeight(),this.getDepth()];break;case 1:t=[this.getHeight(),this.getWidth(),this.getDepth()];break;case 2:t=[this.getHeight(),this.getDepth(),this.getWidth()];break;case 3:t=[this.getDepth(),this.getHeight(),this.getWidth()];break;case 4:t=[this.getDepth(),this.getWidth(),this.getHeight()];break;case 5:t=[this.getWidth(),this.getDepth(),this.getHeight()]}return t}},{key:"intersect",value:function(t){return g(this,t,0,1)&&g(this,t,1,2)&&g(this,t,0,2)}},{key:"getVolume",value:function(){return this.getWidth()*this.getHeight()*this.getDepth()}},{key:"toString",value:function(){return"Item:".concat(this.name," (").concat(this.getRotationTypeString()," = ").concat(this.getDimension().join("x"),", Wg. = ").concat(this.weight,")")}}]),t}(),g=function(t,e,n,i){var r,o,u,s,c,a,h,f;return r=t.getDimension(),o=e.getDimension(),u=t.position[n]+r[n]/2,s=t.position[i]+r[i]/2,c=e.position[n]+o[n]/2,a=e.position[i]+o[i]/2,h=Math.max(u,c)-Math.min(u,c),f=Math.max(s,a)-Math.min(s,a),h<(r[n]+o[n])/2&&f<(r[i]+o[i])/2},y=function(){function t(){(0,i.Z)(this,t),(0,o.Z)(this,"bins",[]),(0,o.Z)(this,"items",[]),(0,o.Z)(this,"unfitItems",[])}return(0,r.Z)(t,[{key:"addBin",value:function(t){this.bins.push(t)}},{key:"addItem",value:function(t){this.items.push(t)}},{key:"findFittedBin",value:function(t){for(var e=0;e<this.bins.length;e++){var n=this.bins[e];if(n.weighItem(t)&&n.putItem(t,f))return 1===n.items.length&&n.items[0]===t&&(n.items=[]),n}return null}},{key:"getBiggerBinThan",value:function(t){for(var e=t.getVolume(),n=0;n<this.bins;n++){var i=this.bins[n];if(i.getVolume()>e)return i}return null}},{key:"unfitItem",value:function(){0!==this.items.length&&(this.unfitItems.push(this.items[0]),this.items.splice(0,1))}},{key:"packToBin",value:function(t,e){var n=null,i=[];if(!t.weighItem(e[0])||!t.putItem(e[0],f)){var r=this.getBiggerBinThan(t);return r?this.packToBin(r,e):this.items}for(var o=1;o<this.items.length;o++){var u=!1,s=this.items[o];if(t.weighItem(s))t:for(var c=0;c<3;c++)for(var a=0;a<t.items.length;a++){var h=void 0,l=t.items[a],p=l.getDimension();switch(c){case 0:h=[l.position[0]+p[0],l.position[1],l.position[2]];break;case 1:h=[l.position[0],l.position[1]+p[1],l.position[2]];break;case 2:h=[l.position[0],l.position[1],l.position[2]+p[2]]}if(t.putItem(s,h)){u=!0;break t}}if(!u){for(;null!==n;)if((n=this.getBiggerBinThan(t))&&(n.items.push(s),0===this.packToBin(n,n.items).length)){t=n,u=!0;break}u||i.push(s)}}return i}},{key:"pack",value:function(){for(this.bins.sort((function(t,e){return t.getVolume()-e.getVolume()})),this.items.sort((function(t,e){return e.getVolume()-t.getVolume()}));this.items.length>0;){var t=this.findFittedBin(this.items[0]);null!==t?this.items=this.packToBin(t,this.items):this.unfitItem()}return null}}]),t}()},23:function(t){var e=function(){"use strict";function t(e,i,r,o){"object"==typeof i&&(r=i.depth,o=i.prototype,i.filter,i=i.circular);var u=[],s=[],c="undefined"!=typeof Buffer;return void 0===i&&(i=!0),void 0===r&&(r=1/0),function e(r,a){if(null===r)return null;if(0==a)return r;var h,f;if("object"!=typeof r)return r;if(t.__isArray(r))h=[];else if(t.__isRegExp(r))h=new RegExp(r.source,n(r)),r.lastIndex&&(h.lastIndex=r.lastIndex);else if(t.__isDate(r))h=new Date(r.getTime());else{if(c&&Buffer.isBuffer(r))return h=Buffer.allocUnsafe?Buffer.allocUnsafe(r.length):new Buffer(r.length),r.copy(h),h;void 0===o?(f=Object.getPrototypeOf(r),h=Object.create(f)):(h=Object.create(o),f=o)}if(i){var l=u.indexOf(r);if(-1!=l)return s[l];u.push(r),s.push(h)}for(var p in r){var g;f&&(g=Object.getOwnPropertyDescriptor(f,p)),g&&null==g.set||(h[p]=e(r[p],a-1))}return h}(e,r)}function e(t){return Object.prototype.toString.call(t)}function n(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=e,t.__isDate=function(t){return"object"==typeof t&&"[object Date]"===e(t)},t.__isArray=function(t){return"object"==typeof t&&"[object Array]"===e(t)},t.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===e(t)},t.__getRegExpFlags=n,t}();t.exports&&(t.exports=e)},426:function(t,e,n){!function(){"use strict";!function(){if("undefined"==typeof console)throw new Error("Weird, console object is undefined");if("function"!=typeof console.table||console.table!==l){var e=function(t,e){return typeof e===t}.bind(null,"string"),i=u.bind(null,e),r=u.bind(null,Array.isArray),o=n(185);t.exports.getTable=function(){var t=Array.prototype.slice.call(arguments),e="";return 2===t.length&&"string"==typeof t[0]&&Array.isArray(t[1])?h(t[0],t[1]):2===t.length&&i(t[0])&&r(t[1])?c(t[0],t[1],!0):(t.forEach((function(n,i){if("string"==typeof n)return e+=n,void(i!==t.length-1&&(e+="\n"));Array.isArray(n)?e+=s(n)+"\n":"object"==typeof n&&(e+=f(n))})),e)},console.table=l}function u(t,e){return Array.isArray(e)&&e.every(t)}function s(t){var e=new o;return t.forEach((function(t){"string"==typeof t||"number"==typeof t?e.cell("item",t):Object.keys(t).forEach((function(n){e.cell(n,t[n])})),e.newRow()})),e.toString()}function c(t,e,n){var i=new o;e.forEach((function(e){e.forEach((function(e,n){i.cell(t[n],e)})),i.newRow()}));var r=i.toString();return n?r:console.log(r)}function a(t,e){var n=s(e),i=n.indexOf("\n");if(i>0){t.length>i&&(i=t.length),console.log(t);var r,o="";for(r=0;r<i;r+=1)o+="-";console.log(o)}console.log(n)}function h(t,e){var n=s(e),i=n.indexOf("\n"),r="";if(i>0){t.length>i&&(i=t.length),r+=t+"\n";var o,u="";for(o=0;o<i;o+=1)u+="-";r+=u+"\n"}return r+n}function f(t){return s(function(t){return Object.keys(t).map((function(e){return{key:e,value:t[e]}}))}(t))}function l(){var t=Array.prototype.slice.call(arguments);return 2===t.length&&"string"==typeof t[0]&&Array.isArray(t[1])?a(t[0],t[1]):2===t.length&&i(t[0])&&r(t[1])?c(t[0],t[1]):void t.forEach((function(t){if("string"==typeof t)return console.log(t);Array.isArray(t)?console.log(s(t)):"object"==typeof t&&console.log(f(t))}))}}()}()},451:function(t,e,n){var i=n(23);t.exports=function(t,e){return t=t||{},Object.keys(e).forEach((function(n){void 0===t[n]&&(t[n]=i(e[n]))})),t}},185:function(t,e,n){var i;try{i=n(561)}catch(t){}function r(){this.rows=[],this.row={__printers:{}}}function o(t){return void 0===t?"":""+t}function u(t){var e=t.replace(/\u001b\[\d+m/g,"");return null==i?e.length:i(e)}function s(t){return function(e,n){var i=o(e),r=u(i);return(n>r?Array(n-r+1).join(t):"")+i}}t.exports=r,r.prototype.newRow=function(){return this.rows.push(this.row),this.row={__printers:{}},this},r.prototype.cell=function(t,e,n){return this.row[t]=e,this.row.__printers[t]=n||o,this},r.prototype.separator="  ",r.string=o,r.leftPadder=s;var c=r.padLeft=s(" ");function a(t){return function(e,n){var i=o(e),r=u(i);return i+(n>r?Array(n-r+1).join(t):"")}}r.rightPadder=a;var h=a(" ");function f(t,e){for(var n in t)"__printers"!=n&&e(n,t[n])}function l(t,e){return t===e?0:void 0===t?1:void 0===e?-1:null===t?1:null===e?-1:t>e?1:t<e?-1:l(String(t),String(e))}r.number=function(t){return function(e,n){if(null==e)return"";if("number"!=typeof e)throw new Error(e+" is not a number");var i=null==t?e+"":e.toFixed(t);return c(i,n)}},r.prototype.columns=function(){for(var t={},e=0;e<2;e++)this.rows.forEach((function(e){var n=0;f(e,(function(e){n=Math.max(n,t[e]||0),t[e]=n,n++}))}));return Object.keys(t).sort((function(e,n){return t[e]-t[n]}))},r.prototype.print=function(){var t=this.columns(),e=this.separator,n={},i="";return this.rows.forEach((function(t){f(t,(function(e,i){var r=t.__printers[e].call(t,i);n[e]=Math.max(u(r),n[e]||0)}))})),this.rows.forEach((function(r){var o="";t.forEach((function(t){var i=n[t],u=r.hasOwnProperty(t)?""+r.__printers[t].call(r,r[t],i):"";o+=h(u,i)+e})),o=o.slice(0,-e.length),i+=o+"\n"})),i},r.prototype.toString=function(){var t=this.columns(),e=new r;return e.separator=this.separator,t.forEach((function(t){e.cell(t,t)})),e.newRow(),e.pushDelimeter(t),e.rows=e.rows.concat(this.rows),this.totals&&this.rows.length&&(e.pushDelimeter(t),this.forEachTotal(e.cell.bind(e)),e.newRow()),e.print()},r.prototype.pushDelimeter=function(t){return(t=t||this.columns()).forEach((function(t){this.cell(t,void 0,s("-"))}),this),this.newRow()},r.prototype.forEachTotal=function(t){for(var e in this.totals){var n=this.totals[e],i=n.init,r=this.rows.length;this.rows.forEach((function(t,o){i=n.reduce.call(t,i,t[e],o,r)})),t(e,i,n.printer)}},r.prototype.printTransposed=function(t){t=t||{};var e=new r;return e.separator=t.separator||this.separator,this.columns().forEach((function(n){e.cell(0,n,t.namePrinter),this.rows.forEach((function(t,i){e.cell(i+1,t[n],t.__printers[n])})),e.newRow()}),this),e.print()},r.prototype.sort=function(t){if("function"==typeof t)return this.rows.sort(t),this;var e=(Array.isArray(t)?t:this.columns()).map((function(t){var e="asc",n=/(.*)\|\s*(asc|des)\s*$/.exec(t);return n&&(t=n[1],e=n[2]),function(n,i){return"asc"==e?l(n[t],i[t]):l(i[t],n[t])}}));return this.sort((function(t,n){for(var i=0;i<e.length;i++){var r=e[i](t,n);if(0!=r)return r}return 0}))},r.prototype.total=function(t,e){return e=e||{},this.totals=this.totals||{},this.totals[t]={reduce:e.reduce||r.aggr.sum,printer:e.printer||c,init:null==e.init?0:e.init},this},r.aggr={},r.aggr.printer=function(t,e){return e=e||o,function(n,i){return c(t+e(n),i)}},r.aggr.sum=function(t,e){return t+e},r.aggr.avg=function(t,e,n,i){return t+=e,n+1==i?t/i:t},r.print=function(t,e,n){var i=e||{};e="function"==typeof e?e:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=i[n]||{};e(r.name||n,t[n],r.printer)}};var o=new r,u=o.cell.bind(o);return Array.isArray(t)?(n=n||function(t){return t.toString()},t.forEach((function(t){e(t,u),o.newRow()}))):(n=n||function(t){return t.printTransposed({separator:" : "})},e(t,u),o.newRow()),n(o)},r.log=function(t,e,n){console.log(r.print(t,e,n))},r.prototype.log=function(){console.log(this.toString())}},653:function(t){t.exports=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]]},561:function(t,e,n){"use strict";var i=n(451),r=n(653),o={nul:0,control:0};function u(t,e){if("string"!=typeof t)return s(t,e);for(var n=0,i=0;i<t.length;i++){var r=s(t.charCodeAt(i),e);if(r<0)return-1;n+=r}return n}function s(t,e){return 0===t?e.nul:t<32||t>=127&&t<160?e.control:function(t){var e,n=0,i=r.length-1;if(t<r[0][0]||t>r[i][1])return!1;for(;i>=n;)if(e=Math.floor((n+i)/2),t>r[e][1])n=e+1;else{if(!(t<r[e][0]))return!0;i=e-1}return!1}(t)?0:1+(t>=4352&&(t<=4447||9001==t||9002==t||t>=11904&&t<=42191&&12351!=t||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510||t>=131072&&t<=196605||t>=196608&&t<=262141))}t.exports=function(t){return u(t,o)},t.exports.config=function(t){return t=i(t||{},o),function(e){return u(e,t)}}}},e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return function(){"use strict";n.r(i),n.d(i,{BP2D:function(){return t},BP3D:function(){return e}});var t=n(269),e=n(625)}(),i}()}));